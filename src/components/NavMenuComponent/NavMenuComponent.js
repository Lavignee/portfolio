import React, { useEffect } from 'react';
import { HashLink } from 'react-router-hash-link';
import { gsap } from "gsap";
import { ScrollTrigger } from 'gsap/ScrollTrigger';
import './NavmenuComponent.scss';

gsap.registerPlugin(ScrollTrigger);

const NavmenuComponent = ({ gnbToggle, onHover, onLeave, currentGnbState }) => {
  const reactRoot = document.getElementById('root')
  const scrollWidthOffset = (el) => {
    if (el.getAttributeNode('id').value === 'skill' && el.getBoundingClientRect().top < 0) {
      const yCoordinate = reactRoot.scrollTop - el.getBoundingClientRect().height;
      // 간격 조정 필요한 경우 값 추가
      const yOffset = 0;
      reactRoot.scrollTo({ top: yCoordinate + yOffset, behavior: 'smooth' });
    } else {
      const yCoordinate = el.getBoundingClientRect().top + reactRoot.scrollTop;
      // 간격 조정 필요한 경우 값 추가
      const yOffset = 0;
      reactRoot.scrollTo({ top: yCoordinate + yOffset, behavior: 'smooth' });
    }
  }

  const gnbButtonScrollRotate = () => {
    gsap.fromTo('.gnb-button', {
      rotate: 0
    }, {
      rotate: 360,
      scrollTrigger: {
        scroller: '#root',
        id: 'gnb-button',
        trigger: '.main-content',
        start: 'top center',
        end: 'bottom center',
        scrub: true,
      }
    });
  }

  useEffect(() => {
    gnbButtonScrollRotate();
    return () => gnbButtonScrollRotate();
  }, []);

  return (
    <>
      <HashLink to='/#main' scroll={el => scrollWidthOffset(el)}>
        <svg className='header-logo' width="58" height="36" viewBox="0 0 58 36" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fillRule="evenodd" clipRule="evenodd" d="M1 29.5V7L7 1V29.5H9.25H15.25H16.75C22.9632 29.5 28 24.4632 28 18.25C28 12.0368 22.9632 7 16.75 7H15.25V7.09913V27.25H9.25V26.6354V9.8646V2.71137V1H14.5H15.25H16.75C26.2769 1 34 8.72309 34 18.25C34 27.7769 26.2769 35.5 16.75 35.5H15.25H14.5H9.25H7H1V29.5Z" fill="#181818" />
          <path fillRule="evenodd" clipRule="evenodd" d="M29 1H35L43.25 14.2L51.5 1H57.5L46.25 19V29.5L40.25 35.5V19L29 1Z" fill="#181818" />
        </svg>
      </HashLink>

      <div className='right-area'>
        <div className='gnb-button' onClick={gnbToggle} onMouseEnter={onHover} onMouseLeave={onLeave}>
          <svg className='menu-img' width="133" height="132" viewBox="0 0 133 132" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M61.1004 17.3L59.7004 10.9L57.7004 18.1L55.3004 18.6L50.5004 12.9L51.9004 19.3L49.4004 19.8L47.4004 10.6L50.7004 9.99998L55.9004 16.1L58.1004 8.29998L61.5004 7.59998L63.5004 16.8L61.1004 17.3Z" fill="#181818" />
            <path d="M66.1992 17L66.8992 7.59998L76.3992 8.29998L76.1992 10.3L69.2992 9.79998L69.1992 11.3L75.6992 11.8L75.4992 13.8L68.9992 13.3V15.2L75.9992 15.7L75.7992 17.7L66.1992 17Z" fill="#181818" />
            <path d="M86.4 21.1L82.6 12.9L80.4 19L78 18.1L81.2 9.29999L83.8 10.2L87.6 18.4L89.8 12.3L92.2 13.2L89 22L86.4 21.1Z" fill="#181818" />
            <path d="M101.099 28.2C100.699 28.4 100.199 28.5 99.5994 28.5C98.9994 28.5 98.3994 28.3 97.7994 28.1C97.0994 27.8 96.3994 27.4 95.6994 26.9C94.9994 26.4 94.2994 25.8 93.8994 25.2C93.3994 24.6 93.0994 24.1 92.8994 23.6C92.6994 23.1 92.5994 22.6 92.6994 22.1C92.7994 21.6 92.8994 21.2 93.1994 20.8L96.8994 15.8L98.8994 17.3L95.7994 21.6C95.5994 21.9 95.4994 22.1 95.3994 22.4C95.2994 22.7 95.2994 23 95.2994 23.3C95.3994 23.6 95.4994 23.9 95.7994 24.3C95.9994 24.6 96.3994 25 96.8994 25.4C97.3994 25.8 97.8994 26 98.2994 26.2C98.6994 26.3 98.9994 26.4 99.2994 26.3C99.5994 26.2 99.8994 26.2 100.099 26C100.299 25.8 100.499 25.6 100.699 25.3L103.799 21L105.799 22.5L102.099 27.5C101.899 27.7 101.599 28 101.099 28.2Z" fill="#181818" />
            <path d="M108 33.5L110 32L111.6 34.1L109.6 35.6L108 33.5Z" fill="#181818" />
            <path d="M114.8 55.2L121.1 53.1L113.7 51.8L112.9 49.5L118.1 44.1L111.8 46.2L111 43.8L119.9 40.9L121 44.2L115.4 50L123.3 51.4L124.4 54.7L115.5 57.6L114.8 55.2Z" fill="#181818" />
            <path d="M115.699 60.3L125.099 60.1L125.299 69.6H123.299L123.099 62.7H121.499L121.599 69.2H119.599L119.499 62.7H117.699L117.899 69.7H115.899L115.699 60.3Z" fill="#181818" />
            <path d="M113.6 80.8L121.4 76.2L115.1 74.6L115.7 72.1L124.8 74.4L124.1 77.1L116.3 81.7L122.6 83.3L122 85.7L112.9 83.4L113.6 80.8Z" fill="#181818" />
            <path d="M108 96.2C107.8 95.8 107.6 95.3 107.6 94.7C107.6 94.1 107.7 93.5 107.9 92.8C108.1 92.1 108.4 91.4 108.9 90.6C109.4 89.8 109.9 89.1 110.4 88.6C110.9 88.1 111.4 87.7 111.9 87.5C112.4 87.3 112.9 87.1 113.4 87.2C113.9 87.2 114.3 87.3 114.7 87.6L120.1 90.8L118.8 93L114.2 90.3C113.9 90.1 113.7 90 113.4 90C113.1 89.9 112.8 89.9 112.5 90C112.2 90.1 111.9 90.3 111.6 90.5C111.3 90.7 111 91.2 110.7 91.7C110.4 92.2 110.2 92.7 110.1 93.1C110 93.5 110 93.9 110.1 94.2C110.2 94.5 110.3 94.7 110.5 95C110.7 95.2 110.9 95.4 111.2 95.6L115.8 98.3L114.5 100.5L109.1 97.3C108.6 96.9 108.2 96.6 108 96.2Z" fill="#181818" />
            <path d="M103.4 103.6L105.1 105.4L103.2 107.2L101.5 105.4L103.4 103.6Z" fill="#181818" />
            <path d="M82.4988 112.5L85.1988 118.5L85.6988 111.1L87.8988 110.1L93.7988 114.7L91.0988 108.7L93.3988 107.7L97.1988 116.3L94.0988 117.7L87.7988 112.7L87.1988 120.7L84.0988 122.1L80.2988 113.5L82.4988 112.5Z" fill="#181818" />
            <path d="M77.4992 113.9L78.5992 123.2L69.1992 124.4L68.9992 122.4L75.8992 121.6L75.6992 120.1L69.1992 120.9L68.9992 118.9L75.4992 118.1L75.2992 116.3L68.3992 117.1L68.1992 115.1L77.4992 113.9Z" fill="#181818" />
            <path d="M56.8988 113.9L62.1988 121.2L63.0988 114.8L65.5988 115.2L64.1988 124.5L61.4988 124.1L56.1988 116.8L55.2988 123.2L52.7988 122.8L54.1988 113.5L56.8988 113.9Z" fill="#181818" />
            <path d="M40.9992 109.8C41.3992 109.5 41.8992 109.3 42.3992 109.3C42.8992 109.3 43.5992 109.2 44.2992 109.4C44.9992 109.5 45.7992 109.8 46.5992 110.2C47.3992 110.6 48.0992 111 48.6992 111.5C49.2992 112 49.6992 112.4 49.9992 112.9C50.2992 113.4 50.4992 113.9 50.4992 114.3C50.4992 114.8 50.4992 115.2 50.2992 115.7L47.6992 121.4L45.3992 120.3L47.5992 115.5C47.6992 115.2 47.7992 114.9 47.8992 114.6C47.9992 114.3 47.8992 114 47.7992 113.7C47.6992 113.4 47.4992 113.1 47.1992 112.9C46.8992 112.6 46.3992 112.3 45.8992 112.1C45.2992 111.8 44.7992 111.7 44.3992 111.6C43.9992 111.5 43.5992 111.6 43.3992 111.7C43.0992 111.8 42.8992 112 42.6992 112.2C42.4992 112.4 42.3992 112.7 42.1992 113L39.9992 117.8L37.6992 116.7L40.2992 111C40.3992 110.4 40.5992 110.1 40.9992 109.8Z" fill="#181818" />
            <path d="M33.2988 106L31.6988 107.8L29.7988 106.1L31.3988 104.3L33.2988 106Z" fill="#181818" />
            <path d="M22.1988 86.1L16.4988 89.4L23.9988 89.2L25.1988 91.3L21.1988 97.6L26.8988 94.3L28.1988 96.5L19.9988 101.1L18.2988 98.1L22.5988 91.3L14.4988 91.5L12.7988 88.5L20.9988 83.8L22.1988 86.1Z" fill="#181818" />
            <path d="M20.3996 81.2L11.1996 83.3L9.09961 74L11.0996 73.6L12.5996 80.3L14.0996 80L12.6996 73.6L14.6996 73.2L16.0996 79.6L17.8996 79.2L16.3996 72.4L18.3996 72L20.3996 81.2Z" fill="#181818" />
            <path d="M18.3996 60.7L11.6996 66.7L18.0996 67L17.9996 69.6L8.59961 69.2L8.69961 66.4L15.4996 60.4L8.99961 60.1L9.09961 57.6L18.4996 58L18.3996 60.7Z" fill="#181818" />
            <path d="M20.8 44.5C21.1 44.9 21.3 45.3 21.5 45.8C21.6 46.3 21.7 47 21.6 47.7C21.5 48.4 21.4 49.2 21.1 50.1C20.8 51 20.4 51.7 20 52.3C19.6 52.9 19.2 53.4 18.7 53.7C18.3 54 17.8 54.3 17.3 54.3C16.8 54.4 16.4 54.4 15.9 54.2L10 52.2L11 49.9L16 51.6C16.3 51.7 16.6 51.8 16.9 51.8C17.2 51.8 17.5 51.8 17.7 51.6C18 51.5 18.2 51.2 18.5 50.9C18.7 50.6 19 50.1 19.2 49.5C19.4 48.9 19.5 48.4 19.5 48C19.5 47.6 19.5 47.2 19.3 47C19.2 46.7 19 46.5 18.8 46.3C18.6 46.1 18.3 46 18 45.9L13 44.2L13.8 41.8L19.7 43.8C20.1 43.9 20.5 44.2 20.8 44.5Z" fill="#181818" />
            <path d="M66.9992 110.3C42.5992 110.3 22.6992 90.4 22.6992 66C22.6992 41.6 42.5992 21.7 66.9992 21.7C91.3992 21.7 111.299 41.6 111.299 66C111.299 90.4 91.3992 110.3 66.9992 110.3ZM66.9992 22.7C43.0992 22.7 23.6992 42.1 23.6992 66C23.6992 89.9 43.0992 109.3 66.9992 109.3C90.8992 109.3 110.299 89.9 110.299 66C110.299 42.1 90.8992 22.7 66.9992 22.7Z" fill="#181818" />
            <path d="M66.9988 132.001C30.6462 132.001 0.998047 102.353 0.998047 66C0.998047 29.6474 30.6462 -0.000793457 66.9988 -0.000793457C103.351 -0.000793457 133 29.6474 133 66C133 102.353 103.351 132.001 66.9988 132.001ZM66.9988 1.48907C31.3912 1.48907 2.48791 30.3923 2.48791 66C2.48791 101.608 31.3912 130.511 66.9988 130.511C102.606 130.511 131.51 101.608 131.51 66C131.51 30.3923 102.606 1.48907 66.9988 1.48907Z" fill="#181818" />
          </svg>

        </div>
      </div>
    </>
  )
}

export default NavmenuComponent;
